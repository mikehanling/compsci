<!DOCTYPE html><html><head><meta charset="UTF-8"><title>Homework 32: Complex structs and linked lists</title><meta name="viewport" content="width=device-width, initial-scale=1.0"><link href="../../scripts/prism.css" rel="stylesheet" /><link rel="stylesheet" type="text/css" href="../../style.css"><script type="text/javascript" src="../../../../mathjax/MathJax.js%3Fconfig=TeX-AMS_HTML"></script><style>
@media only screen and (min-width: 600px) {
  #main>header {background-image: url("../../scripts/header.png");}
}
</style></head><body><div id="main"><header><nav class="topnav"><div>
            <a href="../../index.php.html">SI 204</a>
            </div><div>
            <a href="../../calendar.php.html">Calendar</a>
            </div><div>
            <a href="../../notes/index.html">Notes</a>
            </div><div id="navparent">
            <a href="../index.html">HWs</a>
            </div><div>
            <a href="../../lab/index.html">Labs</a>
            </div><div>
            <a href="../../proj/index.html">Projects</a>
            </div><div>
            <a href="../../exams/index.html">Exams</a>
            </div><div>
            <a href="../../admin/index.html">Resources</a>
            </div><div>
            <a href="https://www.usna.edu/Users/cs/roche/">Roche</a>
            </div><div>
            <a href="https://www.usna.edu/Users/cs/albing/">Albing</a>
            </div></nav></header><div id="mainbox"><div class="printonly"><h1 class="printtitle">SI 204 Spring 2017 / HWs</h1><hr></div><article id="mainart"><header><h1>Homework 32: Complex structs and linked lists</h1></header><div class="printonly">
  <div class="blanks">
  <p>
  Name: _____________________________________________   Alpha: ___________________
  </p>
  <p>
  Describe help received: ________________________________________________________
  </p>
  </div>
</div>
  <div class="noprint">
  <a href="javascript:window.print();">Print this page</a>
</div>
  <ul>
    <li><strong>Due before class on Friday, April 14</strong>
    </li><li>This homework contains code to be submitted electronically.
      Put your code in a folder called <code>hw32</code> and submit
      using the <code>204sub</code> command.</li><li>This is a <em>written homework</em> - be sure to turn in a hard-copy
      of your completed assignment before the deadline. Use the <code>codeprint</code> command to print out your code
        and turn that in as well.</li></ul><h1>Assignment</h1><ol class="ass"><li>
  Circle one to indicate how you did for the reading assignment from
  <a href="../30/index.html">Homework 30</a> <em>before class on Monday</em>:
  <p>How carefully did you complete the reading? (Circle one)</p>
<div class="blanks">
<div class="option">Not at all</div>
<div class="option">Skimmed it</div>
<div class="option">Read some</div>
<div class="option">Read all</div>
</div>
  </li>
<li>
  Circle one to indicate how you did for the reading assignment from
  <a href="../31/index.html">Homework 31</a> <em>before class on Wednesday</em>:
  <p>How carefully did you complete the reading? (Circle one)</p>
<div class="blanks">
<div class="option">Not at all</div>
<div class="option">Skimmed it</div>
<div class="option">Read some</div>
<div class="option">Read all</div>
</div>
  </li>

<li>Given the following declarations:
  <pre><code class="language-c">struct point {
  double x;
  double y;
};

struct trial {
  double stime;
  double etime;
  struct point* ways;
  int numways;
};

struct subject {
  char name[128];
  int id;
  struct trial pre;
  struct trial post;
};

struct subject S;
struct subject* A;
int i;
int j;</code></pre>  fill in the following table with the type (only) of each expression.
  Write ERROR for if the expression would be a compiler or run-time error.
  <table class="RM blanks">
    <tr><td>expression</td><td style="width:1.5in;">type (or ERROR)</td>
        </tr>
    <tr><td><code>S.id</code></td><td></td></tr>
    <tr><td><code>A[i]</code></td><td></td></tr>
    <tr><td><code>A.pre.ways[i][j]</code></td><td></td></tr>
    <tr><td><code>S.post = A[i].pre</code></td><td></td></tr>
    <tr><td><code>A[i].post.ways</code></td><td></td></tr>
    <tr><td><code>S.pre.ways[i]</code></td><td></td></tr>
    <tr><td><code>A[i].id = S.ways[i].y</code></td><td></td></tr>
    <tr><td><code>A[i].pre.ways[j].x</code></td><td></td></tr>
    <tr><td><code>A[i].post.ways.x</code></td><td></td></tr>
    <tr><td><code>++S.pre.numways</code></td><td></td></tr>
    <!--
    <tr><td><code>XXX</code></td><td></td></tr>
    -->
  </table>
</li>
<li>
  Suppose we have the structs defined below, and variable <code>V</code>
  assigned and initialized as in the picture.
<pre><code class="language-c">struct pos {
  int row;
  int col;
};
struct guy {
  char sym;
  struct pos loc;
};
struct group {
  struct guy* peeps;
  int num;
};</code></pre><br><img src="fig.jpg" width="600"><br>
  Write statements that do each of the following:
  <ol class="blanks">
    <li>Change the G to a Q
    <div class="answerbox"></div>
    </li>
    <li>Change the 18 to a 19
    <div class="answerbox"></div>
    </li>
    <li>Swap location (35,4) with location (39,24).
    <div class="answerbox"></div>
    </li>
  </ol>
</li>
<li>
  Pierce the Painter likes to paint many layers of colors on top of
  each other, then strip them off and remember what was underneath.
  Write a program to help Pierce keep track of these colors.
  <br>
  Your program will read a series of two kinds of commands:
  <ul>
    <li><code>paint <em>color</em></code><br>
      Adds a layer of <em>color</em> on top of the current color.
    </li>
    <li><code>strip</code><br>
      Removes the topmost layer of color, revealing whatever was just underneath.
    </li>
  </ul>
  Before each command, your program should report what color is on the wall
  by saying "The top color is X." When there are no colors, like at the beginning
  of the program, say "The canvas is blank."
  <br>
  When Pierce tries to <code>strip</code> from a blank canvas, quit the program.
  <p>Of course, you will want to create a linked list to help you! Each node in your linked
  list should store a single string, for the name of a color. When Pierce <code>paint</code>s,
  that means adding to the front of the linked list. When Pierce wants to <code>strip</code>,
  that means removing the first node in the list.
  </p>
  <p>Examples</p>
<pre><code class="language-text prompt">roche@ubuntu$ </code><code class="language-bash">./paint</code>
<code class="language-text prompt">roche@ubuntu$ </code><code class="language-bash">./paint</code>
<code class="language-text output">The canvas is blank.</code>
<code class="language-text output"></code><code class="language-text input">strip</code></pre><pre><code class="language-text prompt">roche@ubuntu$ </code><code class="language-bash">./paint</code>
<code class="language-text output">The canvas is blank.</code>
<code class="language-text output"></code><code class="language-text input">paint red</code>
<code class="language-text output">The top color is red.</code>
<code class="language-text output"></code><code class="language-text input">strip</code>
<code class="language-text output">The canvas is blank.</code>
<code class="language-text output"></code><code class="language-text input">strip</code></pre><pre><code class="language-text prompt">roche@ubuntu$ </code><code class="language-bash">./paint</code>
<code class="language-text output">The canvas is blank.</code>
<code class="language-text output"></code><code class="language-text input">paint blue</code>
<code class="language-text output">The top color is blue.</code>
<code class="language-text output"></code><code class="language-text input">paint blue</code>
<code class="language-text output">The top color is blue.</code>
<code class="language-text output"></code><code class="language-text input">paint green</code>
<code class="language-text output">The top color is green.</code>
<code class="language-text output"></code><code class="language-text input">strip</code>
<code class="language-text output">The top color is blue.</code>
<code class="language-text output"></code><code class="language-text input">paint orange</code>
<code class="language-text output">The top color is orange.</code>
<code class="language-text output"></code><code class="language-text input">strip</code>
<code class="language-text output">The top color is blue.</code>
<code class="language-text output"></code><code class="language-text input">strip</code>
<code class="language-text output">The top color is blue.</code>
<code class="language-text output"></code><code class="language-text input">paint purple</code>
<code class="language-text output">The top color is purple.</code>
<code class="language-text output"></code><code class="language-text input">paint purple</code>
<code class="language-text output">The top color is purple.</code>
<code class="language-text output"></code><code class="language-text input">strip</code>
<code class="language-text output">The top color is purple.</code>
<code class="language-text output"></code><code class="language-text input">strip</code>
<code class="language-text output">The top color is blue.</code>
<code class="language-text output"></code><code class="language-text input">strip</code>
<code class="language-text output">The canvas is blank.</code>
<code class="language-text output"></code><code class="language-text input">paint white</code>
<code class="language-text output">The top color is white.</code>
<code class="language-text output"></code><code class="language-text input">strip</code>
<code class="language-text output">The canvas is blank.</code>
<code class="language-text output"></code><code class="language-text input">strip</code></pre></ol></article></div></div><nav class="stickynav"><div><div class="dropdown"><a href="../../index.php.html" class="ddown-btn">SI 204</a><div class="ddown-content"><a href="../../calendar.php.html">Calendar</a><a href="../../notes/index.html">Notes</a><a href="../index.html">HWs</a><a href="../../lab/index.html">Labs</a><a href="../../proj/index.html">Projects</a><a href="../../exams/index.html">Exams</a><a href="../../admin/index.html">Resources</a><a href="https://www.usna.edu/Users/cs/roche/">Roche</a><a href="https://www.usna.edu/Users/cs/albing/">Albing</a></div></div><a href="../32.1.html#top" class="linkin pagetop">Homework 32: Complex structs and linked lists</a></nav><footer><div id="foottext">    <p class="disclaimer">Material contained above is made available
    for the purpose of peer review and discussion and does not
    necessarily reflect the views of the Department of the Navy or the
    Department of Defense.
    Some links above are to sites that are not
    located at the United States Naval Academy. The USNA is not
    responsible for the content found on these sites. In addition, the
    content of these sites does not reflect the opinions, standards,
    policy or endorsement of the Naval Academy or the United States
    Government.</p>
  Page maintained by Daniel S. Roche (<a href="mailto:roche [AT] usna [DOT] edu" id="emaillink1">roche [AT] usna [DOT] edu</a><script type='text/javascript'><!--
        var b="he@usna.edu";
        var a="roc";
        document.getElementById("emaillink1").href='mailto:'+a+b;
        document.getElementById("emaillink1").innerHTML=a+b;
        // --></script>). Last updated 12 April 2017 8:58.</div></footer><script src="../../scripts/prism.js"></script><script type="text/javascript"></script></body></html>
